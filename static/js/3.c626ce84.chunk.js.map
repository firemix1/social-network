{"version":3,"sources":["components/Users/Users.module.css","components/Common/Paginator/Paginator.module.css","components/Users/User.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","props","users","map","u","className","styles","user","photoUser","to","id","src","photos","small","userPhoto","alt","info","name","authorizedId","button","followed","disabled","followingInProgress","some","onClick","toggleFollowingProcessing","unfollowUser","btnStyle","followUser","Paginator","totalUsersCount","pageSize","currentPage","selectedPage","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","lastPortionNumber","nextPortionNumber","paginator","filter","p","selected","e","Users","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","onSelectedPage","page","requestUsers","this","Preloader","React","Component","compose","connect","auth"],"mappings":"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","file":"static/js/3.c626ce84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoUser\":\"Users_photoUser__1vIpF\",\"selected\":\"Users_selected__2CoQ4\",\"pages\":\"Users_pages__2sayt\",\"user\":\"Users_user__1R9Z5\",\"info\":\"Users_info__1k-xx\",\"button\":\"Users_button__N28Xm\",\"name\":\"Users_name__3njPu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Paginator_selected__bt1i9\",\"pages\":\"Paginator_pages__3FOSM\",\"pageNumber\":\"Paginator_pageNumber__2utff\",\"paginator\":\"Paginator_paginator__21jt8\"};","import React from 'react'\r\nimport styles from \"./Users.module.css\"\r\nimport userPhoto from \"../../images/emptyPhotoUser.png\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport btnStyle from \"../Common/modulesCSS/button.module.css\";\r\n\r\nlet User = (props) => {\r\n    return (\r\n        <div>\r\n            {props.users.map(u =>\r\n                <div key={u.id} className={styles.user}>\r\n                    <span className={styles.photoUser}>\r\n                        <NavLink to={\"/profile/\" + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} alt={\"small\"}/>\r\n                        </NavLink>\r\n                    </span>\r\n                    <div className={styles.info}>\r\n                        <span className={styles.name}>{u.name}</span>\r\n                        {(props.authorizedId !== u.id) && <div className={styles.button}>\r\n                            {u.followed\r\n                                ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                                    props.toggleFollowingProcessing(true, u.id)\r\n                                    props.unfollowUser(u.id)\r\n                                }} className={btnStyle.button}>Unfollow</button>\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                                    props.toggleFollowingProcessing(true, u.id)\r\n                                    props.followUser(u.id)\r\n                                }} className={btnStyle.button}>Follow</button>}\r\n                        </div>}\r\n                    </div>\r\n\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\"\r\nimport btnStyle from \"../modulesCSS/button.module.css\";\r\n\r\n\r\nlet Paginator = ({totalUsersCount, pageSize, currentPage, selectedPage, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let lastPortionNumber = (portionNumber - 1) * portionSize + 1\r\n    let nextPortionNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 && <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }} className={btnStyle.button}>Previous</button>}\r\n\r\n            {pages\r\n                .filter((p => p >= lastPortionNumber && p <= nextPortionNumber))\r\n                .map((p) => {\r\n                    return (\r\n                        <span key={p} className={(currentPage === p && styles.selected) + \" \" + styles.pages}\r\n                              onClick={e => {\r\n                                  selectedPage(p)\r\n                              }}>\r\n                             {p}\r\n                        </span>\r\n                    )\r\n                })}\r\n            {portionCount > portionNumber\r\n            && <button onClick={() => setPortionNumber(portionNumber + 1)} className={btnStyle.button}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport User from \"./User\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator totalUsersCount={props.totalUsersCount}\r\n                       pageSize={props.pageSize}\r\n                       currentPage={props.currentPage}\r\n                       selectedPage={props.selectedPage}/>\r\n            <User users={props.users}\r\n                  followingInProgress={props.followingInProgress}\r\n                  toggleFollowingProcessing={props.toggleFollowingProcessing}\r\n                  unfollowUser={props.unfollowUser}\r\n                  followUser={props.followUser}\r\n                  authorizedId={props.authorizedId}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","// import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n//  example of reselect:\r\n//  export const getUsersReselect = createSelector(getUsers, (users) => {\r\n//         return users.filter(u => true)\r\n//  })\r\n//  some selectors in one reselect:\r\n//  export const getMixedReselect = createSelector(getUsers, getPageSize, getCurrentPage, (users, pageSize, currentPage) => {\r\n//         return true\r\n//  })","import {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {followUser, requestUsers, toggleFollowingProcessing, unfollowUser} from \"../../redux/users-reducer\";\r\nimport React from \"react\"\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n    onSelectedPage = (page) => {\r\n        this.props.requestUsers(page, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>\r\n                    {this.props.isFetching ? <Preloader/> : null}\r\n                    <Users totalUsersCount={this.props.totalUsersCount}\r\n                           pageSize={this.props.pageSize}\r\n                           currentPage={this.props.currentPage}\r\n                           selectedPage={this.onSelectedPage}\r\n                           users={this.props.users}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                           toggleFollowingProcessing={this.props.toggleFollowingProcessing}\r\n                           unfollowUser={this.props.unfollowUser}\r\n                           followUser={this.props.followUser}\r\n                           authorizedId={this.props.authorizedId}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        authorizedId: state.auth.id\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        toggleFollowingProcessing,\r\n        requestUsers,\r\n        unfollowUser,\r\n        followUser\r\n    })\r\n)(UsersContainer)"],"sourceRoot":""}